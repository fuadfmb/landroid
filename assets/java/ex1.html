<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>code</title>
    <style>body { margin: 0px; }</style>
</head>
<body>
	<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #f92672">package</span> <span style="color: #f8f8f2">com</span><span style="color: #f92672">.</span><span style="color: #a6e22e">orosoft</span><span style="color: #f92672">.</span><span style="color: #a6e22e">landroid</span><span style="color: #f92672">;</span>

<span style="color: #f92672">import</span> <span style="color: #f8f8f2">android.media.MediaPlayer</span><span style="color: #f92672">;</span>
<span style="color: #f92672">import</span> <span style="color: #f8f8f2">android.os.Bundle</span><span style="color: #f92672">;</span>
<span style="color: #f92672">import</span> <span style="color: #f8f8f2">android.os.Handler</span><span style="color: #f92672">;</span>
<span style="color: #f92672">import</span> <span style="color: #f8f8f2">android.view.View</span><span style="color: #f92672">;</span>
<span style="color: #f92672">import</span> <span style="color: #f8f8f2">android.view.animation.Animation</span><span style="color: #f92672">;</span>
<span style="color: #f92672">import</span> <span style="color: #f8f8f2">android.view.animation.AnimationUtils</span><span style="color: #f92672">;</span>
<span style="color: #f92672">import</span> <span style="color: #f8f8f2">android.widget.ImageButton</span><span style="color: #f92672">;</span>
<span style="color: #f92672">import</span> <span style="color: #f8f8f2">android.widget.ImageView</span><span style="color: #f92672">;</span>
<span style="color: #f92672">import</span> <span style="color: #f8f8f2">android.widget.ProgressBar</span><span style="color: #f92672">;</span>
<span style="color: #f92672">import</span> <span style="color: #f8f8f2">android.widget.TextView</span><span style="color: #f92672">;</span>
<span style="color: #f92672">import</span> <span style="color: #f8f8f2">android.widget.Toast</span><span style="color: #f92672">;</span>

<span style="color: #f92672">import</span> <span style="color: #f8f8f2">androidx.appcompat.app.AppCompatActivity</span><span style="color: #f92672">;</span>

<span style="color: #f92672">import</span> <span style="color: #f8f8f2">java.util.concurrent.TimeUnit</span><span style="color: #f92672">;</span>

<span style="color: #66d9ef">public</span> <span style="color: #66d9ef">class</span> <span style="color: #a6e22e">MusicPlayer</span> <span style="color: #66d9ef">extends</span> <span style="color: #f8f8f2">AppCompatActivity</span> <span style="color: #f92672">{</span>
    <span style="color: #66d9ef">private</span> <span style="color: #f8f8f2">MediaPlayer</span> <span style="color: #f8f8f2">mediaPlayer</span><span style="color: #f92672">;</span>
    <span style="color: #f8f8f2">ProgressBar</span> <span style="color: #f8f8f2">progress_bar</span><span style="color: #f92672">;</span>
    <span style="color: #f8f8f2">ImageButton</span> <span style="color: #f8f8f2">btnPlayPause</span><span style="color: #f92672">,</span> <span style="color: #f8f8f2">btnStop</span><span style="color: #f92672">,</span> <span style="color: #f8f8f2">btnloop</span><span style="color: #f92672">;</span>
    <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">finalTime</span><span style="color: #f92672">,</span> <span style="color: #f8f8f2">startTime</span><span style="color: #f92672">;</span>
    <span style="color: #f8f8f2">TextView</span> <span style="color: #f8f8f2">now</span><span style="color: #f92672">,</span> <span style="color: #f8f8f2">total</span><span style="color: #f92672">;</span>
    <span style="color: #f8f8f2">Handler</span> <span style="color: #f8f8f2">myhandler</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">Handler</span><span style="color: #f92672">();</span>
    <span style="color: #f8f8f2">ImageView</span> <span style="color: #f8f8f2">iconmusic</span><span style="color: #f92672">;</span>

    <span style="color: #a6e22e">@Override</span>
    <span style="color: #66d9ef">protected</span> <span style="color: #66d9ef">void</span> <span style="color: #a6e22e">onCreate</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">Bundle</span> <span style="color: #f8f8f2">savedInstanceState</span><span style="color: #f92672">)</span> <span style="color: #f92672">{</span>
        <span style="color: #66d9ef">super</span><span style="color: #f92672">.</span><span style="color: #a6e22e">onCreate</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">savedInstanceState</span><span style="color: #f92672">);</span>
        <span style="color: #f8f8f2">setContentView</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">R</span><span style="color: #f92672">.</span><span style="color: #a6e22e">layout</span><span style="color: #f92672">.</span><span style="color: #a6e22e">activity_music_player</span><span style="color: #f92672">);</span>

        <span style="color: #f8f8f2">btnPlayPause</span> <span style="color: #f92672">=</span> <span style="color: #f92672">(</span><span style="color: #f8f8f2">ImageButton</span><span style="color: #f92672">)</span> <span style="color: #f8f8f2">findViewById</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">R</span><span style="color: #f92672">.</span><span style="color: #a6e22e">id</span><span style="color: #f92672">.</span><span style="color: #a6e22e">btnplaypause</span><span style="color: #f92672">);</span>
        <span style="color: #f8f8f2">progress_bar</span> <span style="color: #f92672">=</span> <span style="color: #f92672">(</span><span style="color: #f8f8f2">ProgressBar</span><span style="color: #f92672">)</span> <span style="color: #f8f8f2">findViewById</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">R</span><span style="color: #f92672">.</span><span style="color: #a6e22e">id</span><span style="color: #f92672">.</span><span style="color: #a6e22e">progress_bar</span><span style="color: #f92672">);</span>
        <span style="color: #f8f8f2">now</span> <span style="color: #f92672">=</span> <span style="color: #f92672">(</span><span style="color: #f8f8f2">TextView</span><span style="color: #f92672">)</span> <span style="color: #f8f8f2">findViewById</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">R</span><span style="color: #f92672">.</span><span style="color: #a6e22e">id</span><span style="color: #f92672">.</span><span style="color: #a6e22e">currenttime</span><span style="color: #f92672">);</span>
        <span style="color: #f8f8f2">total</span> <span style="color: #f92672">=</span> <span style="color: #f92672">(</span><span style="color: #f8f8f2">TextView</span><span style="color: #f92672">)</span> <span style="color: #f8f8f2">findViewById</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">R</span><span style="color: #f92672">.</span><span style="color: #a6e22e">id</span><span style="color: #f92672">.</span><span style="color: #a6e22e">totaltime</span><span style="color: #f92672">);</span>
        <span style="color: #f8f8f2">btnStop</span> <span style="color: #f92672">=</span> <span style="color: #f92672">(</span><span style="color: #f8f8f2">ImageButton</span><span style="color: #f92672">)</span> <span style="color: #f8f8f2">findViewById</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">R</span><span style="color: #f92672">.</span><span style="color: #a6e22e">id</span><span style="color: #f92672">.</span><span style="color: #a6e22e">btnStop</span><span style="color: #f92672">);</span>
        <span style="color: #f8f8f2">iconmusic</span> <span style="color: #f92672">=</span> <span style="color: #f92672">(</span><span style="color: #f8f8f2">ImageView</span><span style="color: #f92672">)</span> <span style="color: #f8f8f2">findViewById</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">R</span><span style="color: #f92672">.</span><span style="color: #a6e22e">id</span><span style="color: #f92672">.</span><span style="color: #a6e22e">iconmusic</span><span style="color: #f92672">);</span>

        <span style="color: #f8f8f2">btnloop</span> <span style="color: #f92672">=</span> <span style="color: #f92672">(</span><span style="color: #f8f8f2">ImageButton</span><span style="color: #f92672">)</span> <span style="color: #f8f8f2">findViewById</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">R</span><span style="color: #f92672">.</span><span style="color: #a6e22e">id</span><span style="color: #f92672">.</span><span style="color: #a6e22e">btnloop</span><span style="color: #f92672">);</span>

        <span style="color: #f8f8f2">mediaPlayer</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">MediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">create</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">MusicPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">this</span><span style="color: #f92672">,</span> <span style="color: #f8f8f2">R</span><span style="color: #f92672">.</span><span style="color: #a6e22e">raw</span><span style="color: #f92672">.</span><span style="color: #a6e22e">kootai</span><span style="color: #f92672">);</span>



        <span style="color: #f8f8f2">Animation</span> <span style="color: #f8f8f2">anim1</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">AnimationUtils</span><span style="color: #f92672">.</span><span style="color: #a6e22e">loadAnimation</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">getApplicationContext</span><span style="color: #f92672">(),</span> <span style="color: #f8f8f2">R</span><span style="color: #f92672">.</span><span style="color: #a6e22e">anim</span><span style="color: #f92672">.</span><span style="color: #a6e22e">zoominfinite</span><span style="color: #f92672">);</span>
        <span style="color: #f8f8f2">iconmusic</span><span style="color: #f92672">.</span><span style="color: #a6e22e">startAnimation</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">anim1</span><span style="color: #f92672">);</span>



        <span style="color: #f8f8f2">finalTime</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">mediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">getDuration</span><span style="color: #f92672">();</span>
        <span style="color: #f8f8f2">startTime</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">mediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">getCurrentPosition</span><span style="color: #f92672">();</span>

        <span style="color: #f8f8f2">now</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setText</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">Integer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">toString</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">mediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">getCurrentPosition</span><span style="color: #f92672">()/</span><span style="color: #ae81ff">1000</span><span style="color: #f92672">));</span>
        <span style="color: #f8f8f2">now</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setText</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">String</span><span style="color: #f92672">.</span><span style="color: #a6e22e">format</span><span style="color: #f92672">(</span><span style="color: #e6db74">&quot;%d:%d&quot;</span><span style="color: #f92672">,</span> <span style="color: #f8f8f2">TimeUnit</span><span style="color: #f92672">.</span><span style="color: #a6e22e">MILLISECONDS</span><span style="color: #f92672">.</span><span style="color: #a6e22e">toMinutes</span><span style="color: #f92672">((</span><span style="color: #66d9ef">long</span><span style="color: #f92672">)</span> <span style="color: #f8f8f2">startTime</span><span style="color: #f92672">),</span>
                <span style="color: #f8f8f2">TimeUnit</span><span style="color: #f92672">.</span><span style="color: #a6e22e">MILLISECONDS</span><span style="color: #f92672">.</span><span style="color: #a6e22e">toSeconds</span><span style="color: #f92672">((</span><span style="color: #66d9ef">long</span><span style="color: #f92672">)</span> <span style="color: #f8f8f2">startTime</span><span style="color: #f92672">)</span> <span style="color: #f92672">-</span>
                <span style="color: #f8f8f2">TimeUnit</span><span style="color: #f92672">.</span><span style="color: #a6e22e">MINUTES</span><span style="color: #f92672">.</span><span style="color: #a6e22e">toSeconds</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">TimeUnit</span><span style="color: #f92672">.</span><span style="color: #a6e22e">MILLISECONDS</span><span style="color: #f92672">.</span><span style="color: #a6e22e">toMinutes</span><span style="color: #f92672">((</span><span style="color: #66d9ef">long</span><span style="color: #f92672">)</span> <span style="color: #f8f8f2">startTime</span><span style="color: #f92672">))));</span>

        <span style="color: #f8f8f2">total</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setText</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">String</span><span style="color: #f92672">.</span><span style="color: #a6e22e">format</span><span style="color: #f92672">(</span><span style="color: #e6db74">&quot;%d:%d&quot;</span><span style="color: #f92672">,</span> <span style="color: #f8f8f2">TimeUnit</span><span style="color: #f92672">.</span><span style="color: #a6e22e">MILLISECONDS</span><span style="color: #f92672">.</span><span style="color: #a6e22e">toMinutes</span><span style="color: #f92672">((</span><span style="color: #66d9ef">long</span><span style="color: #f92672">)</span> <span style="color: #f8f8f2">finalTime</span><span style="color: #f92672">),</span>
                <span style="color: #f8f8f2">TimeUnit</span><span style="color: #f92672">.</span><span style="color: #a6e22e">MILLISECONDS</span><span style="color: #f92672">.</span><span style="color: #a6e22e">toSeconds</span><span style="color: #f92672">((</span><span style="color: #66d9ef">long</span><span style="color: #f92672">)</span> <span style="color: #f8f8f2">finalTime</span><span style="color: #f92672">)</span> <span style="color: #f92672">-</span>
                <span style="color: #f8f8f2">TimeUnit</span><span style="color: #f92672">.</span><span style="color: #a6e22e">MINUTES</span><span style="color: #f92672">.</span><span style="color: #a6e22e">toSeconds</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">TimeUnit</span><span style="color: #f92672">.</span><span style="color: #a6e22e">MILLISECONDS</span><span style="color: #f92672">.</span><span style="color: #a6e22e">toMinutes</span><span style="color: #f92672">((</span><span style="color: #66d9ef">long</span><span style="color: #f92672">)</span> <span style="color: #f8f8f2">finalTime</span><span style="color: #f92672">))));</span>
        <span style="color: #f8f8f2">progress_bar</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setMax</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">finalTime</span><span style="color: #f92672">);</span>

        <span style="color: #f8f8f2">myhandler</span><span style="color: #f92672">.</span><span style="color: #a6e22e">postDelayed</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">updateSongTime</span><span style="color: #f92672">,</span> <span style="color: #ae81ff">100</span><span style="color: #f92672">);</span>


        <span style="color: #f8f8f2">progress_bar</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setProgress</span><span style="color: #f92672">(</span> <span style="color: #f8f8f2">mediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">getCurrentPosition</span><span style="color: #f92672">()/</span><span style="color: #ae81ff">1000</span> <span style="color: #f92672">);</span>


        <span style="color: #f8f8f2">btnPlayPause</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setOnClickListener</span><span style="color: #f92672">(</span><span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">View</span><span style="color: #f92672">.</span><span style="color: #a6e22e">OnClickListener</span><span style="color: #f92672">()</span> <span style="color: #f92672">{</span>
            <span style="color: #a6e22e">@Override</span>
            <span style="color: #66d9ef">public</span> <span style="color: #66d9ef">void</span> <span style="color: #a6e22e">onClick</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">View</span> <span style="color: #f8f8f2">v</span><span style="color: #f92672">)</span> <span style="color: #f92672">{</span>
                <span style="color: #66d9ef">if</span> <span style="color: #f92672">(</span><span style="color: #f8f8f2">mediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">isPlaying</span><span style="color: #f92672">()){</span>
                    <span style="color: #f8f8f2">btnPlayPause</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setBackgroundResource</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">R</span><span style="color: #f92672">.</span><span style="color: #a6e22e">drawable</span><span style="color: #f92672">.</span><span style="color: #a6e22e">ic_play</span><span style="color: #f92672">);</span>
                    <span style="color: #f8f8f2">mediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">pause</span><span style="color: #f92672">();</span>
                <span style="color: #f92672">}</span>
                <span style="color: #66d9ef">else</span> <span style="color: #f92672">{</span>
                    <span style="color: #f8f8f2">btnPlayPause</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setBackgroundResource</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">R</span><span style="color: #f92672">.</span><span style="color: #a6e22e">drawable</span><span style="color: #f92672">.</span><span style="color: #a6e22e">ic_pause</span><span style="color: #f92672">);</span>
                    <span style="color: #f8f8f2">mediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">start</span><span style="color: #f92672">();</span>
                <span style="color: #f92672">}</span>
            <span style="color: #f92672">}</span>
        <span style="color: #f92672">});</span>
        <span style="color: #f8f8f2">btnStop</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setOnClickListener</span><span style="color: #f92672">(</span><span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">View</span><span style="color: #f92672">.</span><span style="color: #a6e22e">OnClickListener</span><span style="color: #f92672">()</span> <span style="color: #f92672">{</span>
            <span style="color: #a6e22e">@Override</span>
            <span style="color: #66d9ef">public</span> <span style="color: #66d9ef">void</span> <span style="color: #a6e22e">onClick</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">View</span> <span style="color: #f8f8f2">v</span><span style="color: #f92672">)</span> <span style="color: #f92672">{</span>
                <span style="color: #f8f8f2">btnPlayPause</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setBackgroundResource</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">R</span><span style="color: #f92672">.</span><span style="color: #a6e22e">drawable</span><span style="color: #f92672">.</span><span style="color: #a6e22e">ic_play</span><span style="color: #f92672">);</span>
                <span style="color: #f8f8f2">mediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">reset</span><span style="color: #f92672">();</span>
                <span style="color: #f8f8f2">mediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">stop</span><span style="color: #f92672">();</span>
                <span style="color: #f8f8f2">mediaPlayer</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">MediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">create</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">MusicPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">this</span><span style="color: #f92672">,</span> <span style="color: #f8f8f2">R</span><span style="color: #f92672">.</span><span style="color: #a6e22e">raw</span><span style="color: #f92672">.</span><span style="color: #a6e22e">kootai</span><span style="color: #f92672">);</span>
            <span style="color: #f92672">}</span>
        <span style="color: #f92672">});</span>

        <span style="color: #f8f8f2">mediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setOnCompletionListener</span><span style="color: #f92672">(</span><span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">MediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">OnCompletionListener</span><span style="color: #f92672">()</span> <span style="color: #f92672">{</span>
            <span style="color: #a6e22e">@Override</span>
            <span style="color: #66d9ef">public</span> <span style="color: #66d9ef">void</span> <span style="color: #a6e22e">onCompletion</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">MediaPlayer</span> <span style="color: #f8f8f2">mp</span><span style="color: #f92672">)</span> <span style="color: #f92672">{</span>
                <span style="color: #66d9ef">if</span> <span style="color: #f92672">(</span> <span style="color: #f92672">!</span> <span style="color: #f8f8f2">mediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">isLooping</span><span style="color: #f92672">()){</span>
                    <span style="color: #75715e">//Toast.makeText(MusicPlayer.this, &quot;done playing.&quot;, Toast.LENGTH_SHORT).show();</span>
                    <span style="color: #f8f8f2">btnPlayPause</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setBackgroundResource</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">R</span><span style="color: #f92672">.</span><span style="color: #a6e22e">drawable</span><span style="color: #f92672">.</span><span style="color: #a6e22e">ic_play</span><span style="color: #f92672">);</span>
                    <span style="color: #f8f8f2">mediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">stop</span><span style="color: #f92672">();</span>
                    <span style="color: #f8f8f2">mediaPlayer</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">MediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">create</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">MusicPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">this</span><span style="color: #f92672">,</span> <span style="color: #f8f8f2">R</span><span style="color: #f92672">.</span><span style="color: #a6e22e">raw</span><span style="color: #f92672">.</span><span style="color: #a6e22e">kootai</span><span style="color: #f92672">);</span>
                <span style="color: #f92672">}</span>

            <span style="color: #f92672">}</span>
        <span style="color: #f92672">});</span>

        <span style="color: #f8f8f2">btnloop</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setOnClickListener</span><span style="color: #f92672">(</span><span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">View</span><span style="color: #f92672">.</span><span style="color: #a6e22e">OnClickListener</span><span style="color: #f92672">()</span> <span style="color: #f92672">{</span>
            <span style="color: #a6e22e">@Override</span>
            <span style="color: #66d9ef">public</span> <span style="color: #66d9ef">void</span> <span style="color: #a6e22e">onClick</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">View</span> <span style="color: #f8f8f2">v</span><span style="color: #f92672">)</span> <span style="color: #f92672">{</span>
                <span style="color: #66d9ef">if</span> <span style="color: #f92672">(</span><span style="color: #f8f8f2">mediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">isLooping</span><span style="color: #f92672">()){</span>
                    <span style="color: #f8f8f2">mediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setLooping</span><span style="color: #f92672">(</span><span style="color: #66d9ef">false</span><span style="color: #f92672">);</span>
                    <span style="color: #f8f8f2">btnloop</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setBackgroundResource</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">R</span><span style="color: #f92672">.</span><span style="color: #a6e22e">drawable</span><span style="color: #f92672">.</span><span style="color: #a6e22e">ic_loopoff</span><span style="color: #f92672">);</span>
                    <span style="color: #f8f8f2">Toast</span><span style="color: #f92672">.</span><span style="color: #a6e22e">makeText</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">MusicPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">this</span><span style="color: #f92672">,</span> <span style="color: #e6db74">&quot;looping is off&quot;</span><span style="color: #f92672">,</span> <span style="color: #f8f8f2">Toast</span><span style="color: #f92672">.</span><span style="color: #a6e22e">LENGTH_SHORT</span><span style="color: #f92672">).</span><span style="color: #a6e22e">show</span><span style="color: #f92672">();</span>
                <span style="color: #f92672">}</span>
                <span style="color: #66d9ef">else</span><span style="color: #f92672">{</span>
                    <span style="color: #f8f8f2">mediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setLooping</span><span style="color: #f92672">(</span><span style="color: #66d9ef">true</span><span style="color: #f92672">);</span>
                    <span style="color: #f8f8f2">btnloop</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setBackgroundResource</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">R</span><span style="color: #f92672">.</span><span style="color: #a6e22e">drawable</span><span style="color: #f92672">.</span><span style="color: #a6e22e">ic_loopon</span><span style="color: #f92672">);</span>
                    <span style="color: #f8f8f2">Toast</span><span style="color: #f92672">.</span><span style="color: #a6e22e">makeText</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">MusicPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">this</span><span style="color: #f92672">,</span> <span style="color: #e6db74">&quot;looping is on&quot;</span><span style="color: #f92672">,</span> <span style="color: #f8f8f2">Toast</span><span style="color: #f92672">.</span><span style="color: #a6e22e">LENGTH_SHORT</span><span style="color: #f92672">).</span><span style="color: #a6e22e">show</span><span style="color: #f92672">();</span>
                <span style="color: #f92672">}</span>
            <span style="color: #f92672">}</span>
        <span style="color: #f92672">});</span>



    <span style="color: #f92672">}</span>

    <span style="color: #f8f8f2">Runnable</span> <span style="color: #f8f8f2">updateSongTime</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">Runnable</span><span style="color: #f92672">()</span> <span style="color: #f92672">{</span>
        <span style="color: #a6e22e">@Override</span>
        <span style="color: #66d9ef">public</span> <span style="color: #66d9ef">void</span> <span style="color: #a6e22e">run</span><span style="color: #f92672">()</span> <span style="color: #f92672">{</span>
            <span style="color: #75715e">//now.setText(Integer.toString(mediaPlayer.getCurrentPosition()/1000));</span>
            <span style="color: #f8f8f2">now</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setText</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">String</span><span style="color: #f92672">.</span><span style="color: #a6e22e">format</span><span style="color: #f92672">(</span><span style="color: #e6db74">&quot;%d:%d&quot;</span><span style="color: #f92672">,</span> <span style="color: #f8f8f2">TimeUnit</span><span style="color: #f92672">.</span><span style="color: #a6e22e">MILLISECONDS</span><span style="color: #f92672">.</span><span style="color: #a6e22e">toMinutes</span><span style="color: #f92672">((</span><span style="color: #66d9ef">long</span><span style="color: #f92672">)</span> <span style="color: #f8f8f2">mediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">getCurrentPosition</span><span style="color: #f92672">()),</span>
                    <span style="color: #f8f8f2">TimeUnit</span><span style="color: #f92672">.</span><span style="color: #a6e22e">MILLISECONDS</span><span style="color: #f92672">.</span><span style="color: #a6e22e">toSeconds</span><span style="color: #f92672">((</span><span style="color: #66d9ef">long</span><span style="color: #f92672">)</span> <span style="color: #f8f8f2">mediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">getCurrentPosition</span><span style="color: #f92672">())</span> <span style="color: #f92672">-</span>
                    <span style="color: #f8f8f2">TimeUnit</span><span style="color: #f92672">.</span><span style="color: #a6e22e">MINUTES</span><span style="color: #f92672">.</span><span style="color: #a6e22e">toSeconds</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">TimeUnit</span><span style="color: #f92672">.</span><span style="color: #a6e22e">MILLISECONDS</span><span style="color: #f92672">.</span><span style="color: #a6e22e">toMinutes</span><span style="color: #f92672">((</span><span style="color: #66d9ef">long</span><span style="color: #f92672">)</span> <span style="color: #f8f8f2">mediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">getCurrentPosition</span><span style="color: #f92672">()))));</span>
            <span style="color: #f8f8f2">myhandler</span><span style="color: #f92672">.</span><span style="color: #a6e22e">postDelayed</span><span style="color: #f92672">(</span><span style="color: #66d9ef">this</span><span style="color: #f92672">,</span> <span style="color: #ae81ff">100</span><span style="color: #f92672">);</span>
            <span style="color: #f8f8f2">progress_bar</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setProgress</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">mediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">getCurrentPosition</span><span style="color: #f92672">());</span>
        <span style="color: #f92672">}</span>

    <span style="color: #f92672">};</span>

    <span style="color: #a6e22e">@Override</span>
    <span style="color: #66d9ef">protected</span> <span style="color: #66d9ef">void</span> <span style="color: #a6e22e">onDestroy</span><span style="color: #f92672">()</span> <span style="color: #f92672">{</span>
        <span style="color: #66d9ef">super</span><span style="color: #f92672">.</span><span style="color: #a6e22e">onDestroy</span><span style="color: #f92672">();</span>
        <span style="color: #f8f8f2">mediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">stop</span><span style="color: #f92672">();</span>
    <span style="color: #f92672">}</span>

    <span style="color: #a6e22e">@Override</span>
    <span style="color: #66d9ef">public</span> <span style="color: #66d9ef">void</span> <span style="color: #a6e22e">onBackPressed</span><span style="color: #f92672">()</span> <span style="color: #f92672">{</span>
        <span style="color: #f8f8f2">mediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">stop</span><span style="color: #f92672">();</span>
        <span style="color: #f8f8f2">finish</span><span style="color: #f92672">();</span>
    <span style="color: #f92672">}</span>

<span style="color: #f92672">}</span>
</pre></div>

</body>
</html>