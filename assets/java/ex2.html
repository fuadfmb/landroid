<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>code</title>
    <style>body { margin: 0px; }</style>
</head>
<body>

	<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #f92672">package</span> <span style="color: #f8f8f2">com</span><span style="color: #f92672">.</span><span style="color: #a6e22e">orosoft</span><span style="color: #f92672">.</span><span style="color: #a6e22e">landroid</span><span style="color: #f92672">;</span>

<span style="color: #f92672">import</span> <span style="color: #f8f8f2">android.content.DialogInterface</span><span style="color: #f92672">;</span>
<span style="color: #f92672">import</span> <span style="color: #f8f8f2">android.media.MediaPlayer</span><span style="color: #f92672">;</span>
<span style="color: #f92672">import</span> <span style="color: #f8f8f2">android.net.Uri</span><span style="color: #f92672">;</span>
<span style="color: #f92672">import</span> <span style="color: #f8f8f2">android.os.Bundle</span><span style="color: #f92672">;</span>
<span style="color: #f92672">import</span> <span style="color: #f8f8f2">android.widget.MediaController</span><span style="color: #f92672">;</span>
<span style="color: #f92672">import</span> <span style="color: #f8f8f2">android.widget.Spinner</span><span style="color: #f92672">;</span>
<span style="color: #f92672">import</span> <span style="color: #f8f8f2">android.widget.VideoView</span><span style="color: #f92672">;</span>

<span style="color: #f92672">import</span> <span style="color: #f8f8f2">androidx.appcompat.app.AlertDialog</span><span style="color: #f92672">;</span>
<span style="color: #f92672">import</span> <span style="color: #f8f8f2">androidx.appcompat.app.AppCompatActivity</span><span style="color: #f92672">;</span>

<span style="color: #66d9ef">public</span> <span style="color: #66d9ef">class</span> <span style="color: #a6e22e">VideoPlayer</span> <span style="color: #66d9ef">extends</span> <span style="color: #f8f8f2">AppCompatActivity</span> <span style="color: #66d9ef">implements</span> <span style="color: #f8f8f2">MediaPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">OnCompletionListener</span> <span style="color: #f92672">{</span>

    <span style="color: #f8f8f2">VideoView</span> <span style="color: #f8f8f2">videoView</span><span style="color: #f92672">;</span>

    <span style="color: #a6e22e">@Override</span>
    <span style="color: #66d9ef">protected</span> <span style="color: #66d9ef">void</span> <span style="color: #a6e22e">onCreate</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">Bundle</span> <span style="color: #f8f8f2">savedInstanceState</span><span style="color: #f92672">)</span> <span style="color: #f92672">{</span>
        <span style="color: #66d9ef">super</span><span style="color: #f92672">.</span><span style="color: #a6e22e">onCreate</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">savedInstanceState</span><span style="color: #f92672">);</span>
        <span style="color: #f8f8f2">setContentView</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">R</span><span style="color: #f92672">.</span><span style="color: #a6e22e">layout</span><span style="color: #f92672">.</span><span style="color: #a6e22e">activity_video_player</span><span style="color: #f92672">);</span>

        <span style="color: #f8f8f2">videoView</span> <span style="color: #f92672">=</span> <span style="color: #f92672">(</span><span style="color: #f8f8f2">VideoView</span><span style="color: #f92672">)</span> <span style="color: #f8f8f2">findViewById</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">R</span><span style="color: #f92672">.</span><span style="color: #a6e22e">id</span><span style="color: #f92672">.</span><span style="color: #a6e22e">videoView</span><span style="color: #f92672">);</span>
        <span style="color: #f8f8f2">videoView</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setMediaController</span><span style="color: #f92672">(</span><span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">MediaController</span><span style="color: #f92672">(</span><span style="color: #66d9ef">this</span><span style="color: #f92672">));</span>
        <span style="color: #f8f8f2">videoView</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setOnCompletionListener</span><span style="color: #f92672">(</span><span style="color: #66d9ef">this</span><span style="color: #f92672">);</span>

        <span style="color: #f8f8f2">String</span> <span style="color: #f8f8f2">pathUri</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;android.resource://&quot;</span> <span style="color: #f92672">+</span> <span style="color: #f8f8f2">getPackageName</span><span style="color: #f92672">()</span> <span style="color: #f92672">+</span> <span style="color: #e6db74">&quot;/&quot;</span> <span style="color: #f92672">+</span> <span style="color: #f8f8f2">R</span><span style="color: #f92672">.</span><span style="color: #a6e22e">raw</span><span style="color: #f92672">.</span><span style="color: #a6e22e">video04</span><span style="color: #f92672">;</span>
        <span style="color: #f8f8f2">Uri</span> <span style="color: #f8f8f2">uri</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">Uri</span><span style="color: #f92672">.</span><span style="color: #a6e22e">parse</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">pathUri</span><span style="color: #f92672">);</span>
        <span style="color: #f8f8f2">videoView</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setVideoURI</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">uri</span><span style="color: #f92672">);</span>
        <span style="color: #f8f8f2">videoView</span><span style="color: #f92672">.</span><span style="color: #a6e22e">start</span><span style="color: #f92672">();</span>
        <span style="color: #75715e">// video started playing...</span>

    <span style="color: #f92672">}</span>

    <span style="color: #66d9ef">private</span> <span style="color: #66d9ef">void</span> <span style="color: #a6e22e">setVideo</span><span style="color: #f92672">(</span><span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">vidID</span><span style="color: #f92672">)</span> <span style="color: #f92672">{</span>


    <span style="color: #f92672">}</span>

    <span style="color: #a6e22e">@Override</span>
    <span style="color: #66d9ef">public</span> <span style="color: #66d9ef">void</span> <span style="color: #a6e22e">onCompletion</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">MediaPlayer</span> <span style="color: #f8f8f2">mp</span><span style="color: #f92672">)</span> <span style="color: #f92672">{</span>
        <span style="color: #f8f8f2">AlertDialog</span><span style="color: #f92672">.</span><span style="color: #a6e22e">Builder</span> <span style="color: #f8f8f2">builder</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">AlertDialog</span><span style="color: #f92672">.</span><span style="color: #a6e22e">Builder</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">VideoPlayer</span><span style="color: #f92672">.</span><span style="color: #a6e22e">this</span><span style="color: #f92672">);</span>
        <span style="color: #f8f8f2">builder</span><span style="color: #f92672">.</span><span style="color: #a6e22e">setTitle</span><span style="color: #f92672">(</span><span style="color: #e6db74">&quot;Playback Finished&quot;</span><span style="color: #f92672">)</span>
                <span style="color: #f92672">.</span><span style="color: #a6e22e">setIcon</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">R</span><span style="color: #f92672">.</span><span style="color: #a6e22e">drawable</span><span style="color: #f92672">.</span><span style="color: #a6e22e">ic_double_arrow</span><span style="color: #f92672">)</span>
                <span style="color: #f92672">.</span><span style="color: #a6e22e">setMessage</span><span style="color: #f92672">(</span><span style="color: #e6db74">&quot;Do you want to replay this video?&quot;</span><span style="color: #f92672">)</span>
                <span style="color: #f92672">.</span><span style="color: #a6e22e">setPositiveButton</span><span style="color: #f92672">(</span><span style="color: #e6db74">&quot;Yes&quot;</span><span style="color: #f92672">,</span> <span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">DialogInterface</span><span style="color: #f92672">.</span><span style="color: #a6e22e">OnClickListener</span><span style="color: #f92672">()</span> <span style="color: #f92672">{</span>
                    <span style="color: #a6e22e">@Override</span>
                    <span style="color: #66d9ef">public</span> <span style="color: #66d9ef">void</span> <span style="color: #a6e22e">onClick</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">DialogInterface</span> <span style="color: #f8f8f2">dialog</span><span style="color: #f92672">,</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">which</span><span style="color: #f92672">)</span> <span style="color: #f92672">{</span>
                        <span style="color: #66d9ef">if</span> <span style="color: #f92672">(</span><span style="color: #f8f8f2">which</span> <span style="color: #f92672">==</span> <span style="color: #f92672">-</span><span style="color: #ae81ff">1</span><span style="color: #f92672">){</span>
                            <span style="color: #f8f8f2">videoView</span><span style="color: #f92672">.</span><span style="color: #a6e22e">seekTo</span><span style="color: #f92672">(</span><span style="color: #ae81ff">0</span><span style="color: #f92672">);</span>
                            <span style="color: #f8f8f2">videoView</span><span style="color: #f92672">.</span><span style="color: #a6e22e">start</span><span style="color: #f92672">();</span>
                        <span style="color: #f92672">}</span>
                    <span style="color: #f92672">}</span>
                <span style="color: #f92672">})</span>
                <span style="color: #f92672">.</span><span style="color: #a6e22e">setNegativeButton</span><span style="color: #f92672">(</span><span style="color: #e6db74">&quot;No&quot;</span><span style="color: #f92672">,</span> <span style="color: #66d9ef">new</span> <span style="color: #f8f8f2">DialogInterface</span><span style="color: #f92672">.</span><span style="color: #a6e22e">OnClickListener</span><span style="color: #f92672">()</span> <span style="color: #f92672">{</span>
                    <span style="color: #a6e22e">@Override</span>
                    <span style="color: #66d9ef">public</span> <span style="color: #66d9ef">void</span> <span style="color: #a6e22e">onClick</span><span style="color: #f92672">(</span><span style="color: #f8f8f2">DialogInterface</span> <span style="color: #f8f8f2">dialog</span><span style="color: #f92672">,</span> <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">which</span><span style="color: #f92672">)</span> <span style="color: #f92672">{</span>
                        <span style="color: #f8f8f2">dialog</span><span style="color: #f92672">.</span><span style="color: #a6e22e">dismiss</span><span style="color: #f92672">();</span>
                    <span style="color: #f92672">}</span>
                <span style="color: #f92672">})</span>
                <span style="color: #f92672">.</span><span style="color: #a6e22e">create</span><span style="color: #f92672">()</span>
                <span style="color: #f92672">.</span><span style="color: #a6e22e">show</span><span style="color: #f92672">();</span>
    <span style="color: #f92672">}</span>
<span style="color: #f92672">}</span>
</pre></div>


</body>
</html>